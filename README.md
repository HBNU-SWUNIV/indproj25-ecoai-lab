# 한밭대학교 SW중심대학 산학연계프로젝트 - 자율주행 주차로봇 운영 소프트웨어 성능 테스트 및 최적화  

## **팀 구성**   
### 지도교수  
 - 이상금 교수님  

### 기업체   
 - 하동수 대표  

### 참여학생  
- 20231977 박범도    
- 20201859 길기훈    
- 20201737 백민우    
- 20211897 정민성    
- 20231975 권우현    
- 20227130 장하린    
- 20227129 장여진    

## Project Background  
- ### 필요성  
   - **도심 주차난 해소 및 공간 효율성 증대**: 주차 로봇 도입 시, 운전자의 승하차 공간이 불필요하여 기존 자주식 주차장 대비 약 30% 이상의 공간 효율을 확보할 수 있다.  
   - **이용자 편의성 및 안전성 향상**: 주차 공간을 찾기 위한 배회 시간을 단축하고, 주차장 내에서 발생할 수 있는 '문콕' 사고나 보행자/차량 간의 접촉 사고 위험을 원천적으로 제거한다.  
- ### 기존 해결책의 문제점  
   - **낮은 환경 강인성**: 기존 인식 기반 자율주행 주차 시스템은 야간, 우천, 역광 등 비정형적인 실제 환경에서 인식 성능이 저하되는 문제점을 가진다.  
   - **Sim-to-Real Gap**: 시뮬레이션 환경에서 개발된 알고리즘이 실제 로봇 하드웨어 및 현실 환경에 적용될 때, 센서 오차 및 통신 지연 등으로 인해 성능 격차가 발생하는 문제가 있다.  
    
## System Design  
   - ### System Requirements  
     - 실시간 주차선, 장애물 및 주차 가능 공간 객체 탐지 (YOLO 기반)  
     - 야간, 우천 등 다양한 조명 및 날씨 조건에서의 강인한 인식 성능 확보  
     - 한국어 음성 명령을 통한 로봇 제어 시나리오 수행  
     - 평행 및 수직 주차를 위한 정밀한 경로 계획 및 로봇 모션 제어  
     - ROS(로봇 운영체제) 및 Gazebo 시뮬레이터를 통한 시스템 통합 및 사전 검증  
      
## Case Study  
   - ### Description  
     - **시뮬레이션 환경 구축**: Ubuntu 기반 ROS1 및 Gazebo 환경에 TurtleBot3 모델을 활용하여 가상 카메라, LIDAR 센서 데이터 흐름 및 노드/토픽 통신을 구현했다.  
     - **인식 모듈 (Perception)**: 초기 YOLOv5 모델에서 성능 향상을 위해 **YOLOv8-lite** 모델을 도입했다. 야간, 역광, 우천 등 실제 환경 데이터를 직접 수집하고 데이터 증강(Data Augmentation)을 적용하여 모델의 강인성을 확보했다. 또한, 한국어 음성 명령 인식 및 해석 모듈을 개발했다.  
     - **제어 및 경로 계획 (Control & Planning)**: 허프 변환(Hough Transform) 파라미터 최적화 및 필터링을 통해 주차선 검출 로직을 개선했다. 인식된 주차선 정보를 바탕으로 '주차 가능 공간'을 판단하고, 공간의 중앙점을 목표 좌표로 설정했다. 평행/수직 주차에 필요한 동작 순서(전진, 회전, 후진) 및 이동/회전 값을 계산하는 알고리즘을 구현하고 Gazebo 상에서 경로를 시각화하여 검증했다.  
     - **성능 검증**: 개발된 YOLO 모델의 성능을 **정밀도(Precision), 재현율(Recall), mAP** 지표로 정량 평가했다. TensorBoard를 통한 분석 및 K-means 클러스터링을 활용한 Anchor Box 재산출 등으로 모델을 최적화했다.  
    
    
## Conclusion  
   - ### 데이터의 중요성  
     - 프로젝트를 통해 자율주행 시스템의 성능이 **데이터의 품질과 다양성**에 결정적으로 의존함을 확인했다. 특히 야간, 우천 등 비정형 환경 데이터 확보 및 처리가 모델의 강인성을 확보하는 데 핵심적이었다.  
   - ### 시스템 통합 및 한계점  
     - 시뮬레이션 환경(Gazebo)에서의 성능과 실제 환경 간의 격차(Sim-to-Real Gap)가 존재함을 발견했다. 또한, ROS 토픽을 통한 **데이터 동기화 및 통신 지연 문제**가 개별 모듈의 성능과 별개로 전체 시스템 안정성에 영향을 미칠 수 있음을 확인했다.  
    
## Project Outcome  
- **YOLOv8-lite** 기반 고성능 객체 검출 모델 개발 (주차선, 장애물 인식)  
- 다양한 환경(조명, 기울기)에 대응 가능한 학습 데이터셋 전처리 및 구성 자동화  
- 평행/수직 주차 경로 계산 로직 구현 및 ROS/Gazebo 시뮬레이션 통합 검증  
